{"version":3,"sources":["redux/message-reducer.tsx","api/api.tsx","images/loading.svg","components/Users/Users.module.css","components/common/FormControls/FormControls.tsx","serviceWorker.js","redux/sidebar-reducer.tsx","redux/news-reducer.js","utils/object-helper.ts","redux/users-reducer.tsx","redux/auth-reducer.tsx","redux/app-reducer.tsx","redux/redux-store.tsx","components/Navbar/Navbar.tsx","components/Navbar/NavbarContainer.tsx","components/News/News.js","components/News/NewsContainer.js","components/common/Pagination/Paginations.tsx","components/Users/User.tsx","components/Users/Users.tsx","redux/users-selectors.tsx","components/Users/UsersContainer.tsx","components/Header/Header.tsx","components/Header/HeaderContainer.tsx","components/Login/Login.tsx","hoc/WithSuspense.tsx","App.tsx","index.tsx","components/common/FormControls/FormControls.module.css","components/Navbar/Navbar.module.css","utils/validator/validator.tsx","components/common/preloader/Preloader.tsx","components/Header/Header.module.css","redux/profile-reducer.tsx"],"names":["initialState","messagesList","id","message","names","name","actions","addMessageActionCreator","text","type","messageReducer","state","action","newMessage","ResultCodeEnum","ResultCodeForCaptcha","instance","axios","create","withCredentials","baseURL","headers","UserAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","usersId","post","res","unfollow","delete","getProfile","userId","ProfileAPI","saveProfile","profile","put","photo","file","formData","FormData","append","getStatus","setStatus","status","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","module","exports","TextArea","props","input","meta","restProps","error","touched","FormControl","Input","console","log","children","label","hasError","className","s","formControls","htmlFor","CreateInput","placeholder","validate","component","Boolean","window","location","hostname","match","link","path","sideBarReducer","allNews","news","author","newsState","active","newsReducer","userForRemoveId","arr","filter","user","addNewsActionCreator","addActive","updateObjectInArr","item","actionId","propName","newObj","map","el","users","totalUsersCount","isFetching","followingInProgress","usersReducer","followed","flag","isProgress","page","count","load","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","isAuth","captchaUrl","payload","setAuth","meData","Success","url","autorReducer","initialized","appReducer","reducersRoot","combineReducers","profilePage","profileReducer","messagePage","navLink","newsPage","usersPage","auth","form","formReducer","initialzeAppPage","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Navbar","nav","navLinks","hasOwnProperty","activeClassName","to","NavbarContainer","connect","OneNews","onClick","class","News","i","NewContainer","Pagination","setCurrentPage","pagesCount","Math","ceil","pages","push","useState","portionNumber","setPortionNumber","leftNum","rightNum","pageNumbers","p","activePage","cn","length","User","unfollowing","following","usersWrapper","left","src","photos","small","alt","disabled","some","right","Users","loadUsers","key","getUsersSelector","getSizeSelector","gettotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","loadingUsers","setCurrentPage2","this","title","Preloader","React","Component","getState","items","totalCount","bind","Header","header","loginBlock","HeaderContainer","ReduxLoginForm","reduxForm","handleSubmit","onSubmit","required","undefined","style","formSummeryError","captchaIsReq","messages","stopSubmit","_error","withRouter","withSuspense","fallback","ProfileContainer","lazy","SuspendDialogs","SuspendProfile","App","initialzeApp","render","NewsContainer","promise","Promise","all","ReactDOM","basename","process","document","getElementById","navigator","serviceWorker","ready","registration","unregister","max","value","maxLength10","loading","preloader","postInfo","massage","like","posts","addPostText","setStatusProfile","updateNewPostText","nextText","setUsersProfile","setUsersPhoto","setPhotoApi","getUsersProfile","nameContact","split","reverse","slice","toLocaleLowerCase","reject","updateStatus","newPost"],"mappings":"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","file":"static/js/main.b27141dd.chunk.js","sourcesContent":["import {InferActionsType} from \"./redux-store\";\r\n\r\nlet updateNewMessagePost = 'updateNewMessagePost';\r\nlet addMessage = 'ADD-Message';\r\nexport type MessageType = {\r\n    id: number,\r\n    message: string\r\n}\r\nexport type NameType = {\r\n    name: string,\r\n    id: number\r\n\r\n}\r\nlet initialState = {\r\n    messagesList: [\r\n        {\r\n            id: 1,\r\n            message: 'Hi'\r\n        },\r\n        {\r\n            id: 2,\r\n            message: 'How are you?'\r\n        },\r\n        {\r\n            id: 3,\r\n            message: 'How is yore it?'\r\n        },\r\n        {\r\n            id: 4,\r\n            message: 'yo!!!!'\r\n        }\r\n    ] as Array<MessageType>,\r\n    names: [\r\n        {\r\n            name: 'Dimych',\r\n            id: 1\r\n        }, {\r\n            name: 'Kate',\r\n            id: 2\r\n        }, {\r\n            name: 'Ann',\r\n            id: 3\r\n        }, {\r\n            name: 'Sveta',\r\n            id: 4\r\n        }, {\r\n            name: 'Andru',\r\n            id: 5\r\n        },\r\n    ] as Array<NameType>,\r\n\r\n}\r\nexport type initialStateType = typeof initialState\r\ntype ActionsType = InferActionsType<typeof actions>\r\nexport const actions = {\r\n    addMessageActionCreator: (text: string, id: number) => ({type: addMessage, id: id, text} as const)\r\n}\r\nconst messageReducer = (state = initialState, action: ActionsType): initialStateType => {\r\n\r\n    switch (action.type) {\r\n\r\n        case addMessage:\r\n\r\n            let newMessage = {\r\n                id: action.id,\r\n                message: action.text\r\n            };\r\n            return {\r\n                ...state,\r\n                messagesList: [...state.messagesList, newMessage],\r\n\r\n            }\r\n\r\n        case updateNewMessagePost:\r\n            return {\r\n                ...state,\r\n                //textMessage:action.nextMessage\r\n            }\r\n\r\n        default :\r\n            return state\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default messageReducer","import axios, {AxiosPromise} from \"axios\";\r\nimport {PhotosType, profileType} from \"../redux/profile-reducer\";\r\nimport {UserType} from \"../redux/users-reducer\";\r\n\r\nexport const instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {'API-KEY': '50f1f503-9c26-452c-b6b0-8a3049400c9f'}\r\n});\r\ntype UsersResponseType = {\r\n    items: Array<UserType>\r\n    totalCount: number\r\n    error: string | null\r\n}\r\nexport type ResponseType<D = {}, RC = ResultCodeEnum> = {\r\n    data: D\r\n    resultCode: RC\r\n    messages: Array<string>\r\n}\r\ntype MeResponseType = {\r\n\r\n    id: number,\r\n    email: string,\r\n    login: string\r\n\r\n}\r\ntype LoginResponseType = {}\r\nexport const UserAPI = {\r\n    getUsers(currentPage: number, pageSize:number) {\r\n        return instance.get<UsersResponseType>(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    follow(usersId: number) {\r\n        return instance.post<ResponseType>(`follow/${usersId}`).then(res => res.data)\r\n    },\r\n    unfollow(usersId: number) {\r\n        return instance.delete(`follow/${usersId}`).then(res => res.data) as Promise<ResponseType>\r\n    },\r\n    getProfile(userId: number) {\r\n        return ProfileAPI.getProfile(userId)\r\n    }\r\n}\r\ntype ProfileResponseType = {\r\n    userId: number\r\n}\r\n\r\ntype  SavePhotoType={\r\n    photos: PhotosType\r\n}\r\nexport const ProfileAPI = {\r\n    getProfile(userId: number) {\r\n        return instance.get<profileType>(`profile/` + userId).then(res => res.data)\r\n    },\r\n    saveProfile(profile: profileType) {\r\n        return instance.put<ResponseType>(`profile`, profile).then(res => res.data)\r\n    },\r\n    photo(file: File) {\r\n        const formData = new FormData();\r\n        formData.append('image', file);\r\n        return instance.put<ResponseType<SavePhotoType>>('/profile/photo', formData, {\r\n            headers: {\r\n                'content-type': 'multipart/form-data'\r\n            }\r\n        }).then(res => res.data)\r\n    },\r\n    getStatus(userId: number) {\r\n        return instance.get(`profile/status/` + userId).then(res => res.data)\r\n    },\r\n    setStatus(status: string) {\r\n        return instance.put<ResponseType>(`profile/status/`, {status: status}).then(res => res.data)\r\n    }\r\n}\r\n\r\nexport enum ResultCodeEnum {\r\n    Success = 0,\r\n    Error = 1,\r\n}\r\n\r\nexport enum ResultCodeForCaptcha {\r\n    captchaIsReq = 10\r\n}\r\n\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get<ResponseType<MeResponseType>>(`auth/me`).then(res => res.data)\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean, captcha: string | null) {\r\n        return instance.post<ResponseType<LoginResponseType, ResultCodeEnum | ResultCodeForCaptcha>>(`auth/login`, {\r\n            email,\r\n            password,\r\n            rememberMe,\r\n            captcha\r\n        }).then(res => res.data)\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    }\r\n}\r\n\r\ntype getCaptchaResponseType ={\r\n    url:string\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get<getCaptchaResponseType>(`security/get-captcha-url`).then(res => res.data)\r\n    }\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/loading.5c911b6a.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersWrapper\":\"Users_usersWrapper__3pZl0\",\"active\":\"Users_active__2k_0R\",\"left\":\"Users_left__28Hz9\",\"right\":\"Users_right__2lYw5\",\"activePage\":\"Users_activePage__2YDHa\",\"pageNumbers\":\"Users_pageNumbers__21zkZ\",\"loading\":\"Users_loading__1npAx\"};","import React from \"react\";\r\nimport s from './FormControls.module.css'\r\nimport {Field, WrappedFieldMetaProps, WrappedFieldProps} from 'redux-form'\r\nimport {ValidatorType} from \"../../../utils/validator/validator\";\r\nimport {WrappedFieldInputProps} from \"redux-form/lib/Field\";\r\n\r\nexport const TextArea: React.FC<FormControlsPropsType> = (props) => {\r\n    const {input, meta, ...restProps} = props\r\n    const hasError = meta.error && meta.touched\r\n    return (\r\n        <FormControl {...props}>\r\n            <textarea {...input} {...restProps} />\r\n        </FormControl>\r\n\r\n    )\r\n}\r\n\r\nexport const Input: React.FC<FormControlsPropsType> = (props) => {\r\n    console.log(props)\r\n    const {input, meta, ...restProps} = props\r\n    const hasError = meta.error && meta.touched\r\n    return (\r\n        <FormControl {...props}> <input {...input} {...restProps} /></FormControl>\r\n\r\n\r\n    )\r\n}\r\ntype FormControlsPropsType = {\r\n    meta: WrappedFieldMetaProps\r\n    label: string\r\n    input: WrappedFieldInputProps\r\n    // children: React.ReactNode\r\n}\r\n\r\n\r\nconst FormControl: React.FC<FormControlsPropsType> = ({meta: {touched, error}, children, label}) => {\r\n\r\n    const hasError = error && touched\r\n    return (\r\n        <div className={hasError ? s.formControls + ' ' + s.error : s.formControls}>\r\n\r\n            <div>\r\n                <label htmlFor=\"\">{label}</label>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport function CreateInput<FormKeysType extends string>(placeholder: string | undefined, name: FormKeysType,\r\n                                                         validate: Array<ValidatorType>,\r\n                                                         component: React.FC<FormControlsPropsType>, props = {}) {\r\n\r\n    return <div><Field placeholder={placeholder} name={name} validate={validate}\r\n\r\n                       component={component}  {...props}/></div>\r\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","\r\n\r\ntype  initialStateType = typeof initialState\r\n\r\nlet initialState =[\r\n    {\r\n        link: 'Profile',\r\n        path: '/profile/6880'\r\n    },\r\n    {\r\n        link: 'Massage',\r\n        path: '/dialogs'\r\n    },\r\n    {\r\n        link: 'News',\r\n        path: '/news'\r\n\r\n    },\r\n    {\r\n        link: 'Users',\r\n        path: '/users'\r\n\r\n    },{\r\n        link: 'Music',\r\n\r\n    },\r\n    {\r\n        link: 'Settings',\r\n\r\n    }\r\n]\r\n\r\nconst sideBarReducer = (state = initialState, action: object) => {\r\n\r\n   return state\r\n}\r\n\r\nexport default sideBarReducer","const addnews = 'addnews'\r\nconst ACTIVE = 'ACTIVE'\r\nlet initialState = {\r\n    allNews: [\r\n        {\r\n            id: 0,\r\n            data: '23.10.2020',\r\n            news: 'la la la la ',\r\n            author: 'Katy',\r\n            newsState: false\r\n        },\r\n        {\r\n            id: 1,\r\n            data: '14.05.2020',\r\n            news: 'pa pa pa pa  ',\r\n            author: 'Ann',\r\n            newsState: false\r\n        },\r\n        {\r\n            id: 2,\r\n            data: '18.09.2020',\r\n            news: 'yo yo yo yo yo ',\r\n            author: 'Jack',\r\n            newsState: false\r\n        }\r\n    ],\r\n    active: 0\r\n}\r\nconst newsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case addnews:\r\n            const userForRemoveId = action.id\r\n            let arr = state.allNews.filter((user) => {\r\n                return user.id !== userForRemoveId;\r\n            })\r\n            return {\r\n                ...state,\r\n                allNews: arr\r\n            }\r\n        case ACTIVE:\r\n            return {\r\n                ...state,\r\n                active: action.active\r\n            }\r\n        default :\r\n            return state\r\n    }\r\n}\r\nexport default newsReducer\r\nexport const addNewsActionCreator = (id) => {return {type: addnews, id: id}};\r\nexport const addActive = (id) => {return {type: ACTIVE, active: id}};\r\n","import {UserType} from \"../redux/users-reducer\";\r\n\r\n\r\n\r\nexport  const updateObjectInArr = (item:any,  actionId:any, propName:any, newObj:any)=>{\r\n  return  item.map((el:any) => {\r\n\r\n        if (el[propName] === actionId) {\r\n            // console.log({...el, ...newObj})\r\n            return {...el, ...newObj}\r\n        }\r\n        // console.log(el)\r\n        return el\r\n    })\r\n}","import {UserAPI, ResponseType} from \"../api/api\";\r\nimport {updateObjectInArr} from \"../utils/object-helper\";\r\nimport {PhotosType} from \"./profile-reducer\";\r\nimport {AppStateType, BasicThunkType, InferActionsType} from \"./redux-store\";\r\nimport {Dispatch} from \"redux\";\r\n\r\n\r\nconst FOLLOWED = 'FOLLOWED'\r\nconst UNFOLLOWED = \"UNFOLLOWED\"\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst SET_TOTAL_USER_COUNT = 'SET_TOTAL_USER_COUNT'\r\nconst LOADING = 'LOADING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\nexport  type UserType = {\r\n\r\n    name: string,\r\n    id: number,\r\n    uniqueUrlName: null | string,\r\n    status: string,\r\n    followed: boolean\r\n    photos: PhotosType\r\n}\r\nlet initialState = {\r\n    users: [] as Array<UserType>,\r\n    pageSize: 100,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [] as Array<number>\r\n}\r\ntype  initialStateType = typeof initialState\r\n\r\n\r\nconst usersReducer = (state = initialState, action: AllActionTypes): initialStateType => {\r\n    switch (action.type) {\r\n        case FOLLOWED:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArr(state.users, action.id, \"id\", {followed: true})\r\n            }\r\n        case UNFOLLOWED:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArr(state.users, action.id, \"id\", {followed: false})\r\n                // users: state.users.map((el) => {\r\n                //     if (el.id === action.id) {\r\n                //         return {...el, followed: false}\r\n                //     }\r\n                //     return el\r\n                // })\r\n            }\r\n        case SET_USERS:\r\n\r\n            if (action.flag) {\r\n                return {\r\n\r\n                    ...state, users: [...state.users, ...action.users]\r\n                }\r\n            } else {\r\n                return {\r\n\r\n                    ...state, users: [...action.users]\r\n                }\r\n            }\r\n\r\n        case SET_CURRENT_PAGE:\r\n\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage,\r\n            }\r\n        case SET_TOTAL_USER_COUNT:\r\n\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.totalUsersCount,\r\n            }\r\n        case LOADING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n\r\n            }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isProgress\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default usersReducer\r\nexport const action = {\r\n    follow: (id: number) => ({type: FOLLOWED, id: id} as const),\r\n    unfollow: (id: number) => ({type: UNFOLLOWED, id: id} as const),\r\n    setUsers: (users: Array<UserType>, flag: boolean) => {\r\n        return {type: SET_USERS, users: users, flag: flag} as const\r\n    },\r\n    setCurrentPage: (page: number) => {\r\n        return {type: SET_CURRENT_PAGE, currentPage: page} as const\r\n    },\r\n    setTotalUsersCount: (count: number) => {\r\n        return {type: SET_TOTAL_USER_COUNT, totalUsersCount: count,} as const\r\n    },\r\n    setIsFetching: (load: boolean) => {\r\n        return {type: LOADING, isFetching: load} as const\r\n    },\r\n    isToggleProgress: (flag: boolean, userId: number) => {\r\n        return {type: TOGGLE_IS_FOLLOWING_PROGRESS, isProgress: flag, userId: userId} as const\r\n    }\r\n}\r\n\r\nexport const getUsers = (currentPage: number, pageSize: number): ThunkType => {\r\n    return async (dispatch, getState: () => AppStateType) => {\r\n        dispatch(action.setCurrentPage(currentPage))\r\n        dispatch(action.setIsFetching(true))\r\n        // dispatch(action.isToggleProgress(true, userId))\r\n        let data = await UserAPI.getUsers(currentPage, pageSize)\r\n        dispatch(action.setIsFetching(false))\r\n        dispatch(action.setUsers(data.items, false))\r\n        dispatch(action.setTotalUsersCount(data.totalCount))\r\n    }\r\n\r\n}\r\nexport const followUnfollowFlow = async (dispatch: Dispatch<AllActionTypes>,\r\n                                         userId: number,\r\n                                         apiMethod: (userId: number) => Promise<ResponseType>\r\n                                         , actionCreator: (userId: number) => AllActionTypes) => {\r\n    dispatch(action.isToggleProgress(true, userId))\r\n    let response = await apiMethod(userId)\r\n    // dispatch(actionCreator(userId))\r\n    if (response.resultCode == 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(action.isToggleProgress(false, userId))\r\n}\r\nexport const unfollowing = (userId: number): ThunkType => {\r\n    return async (dispatch, getState: () => AppStateType) => {\r\n        followUnfollowFlow(dispatch, userId, UserAPI.unfollow.bind(UserAPI), action.unfollow)\r\n    }\r\n}\r\nexport const following = (userId: number): ThunkType => {\r\n    return async (dispatch, getState: () => AppStateType) => {\r\n        followUnfollowFlow(dispatch, userId, UserAPI.follow.bind(UserAPI), action.follow)\r\n    }\r\n}\r\nexport const loadingUsers = (page: number, flag: boolean, pageSize: number): ThunkType => {\r\n    return async (dispatch, getState: () => AppStateType) => {\r\n        dispatch(action.setCurrentPage(page));\r\n        dispatch(action.setIsFetching(true))\r\n        let data = await UserAPI.getUsers(page, pageSize)\r\n        dispatch(action.setIsFetching(false))\r\n        dispatch(action.setUsers(data.items, flag))\r\n    }\r\n} \r\ntype AllActionTypes = InferActionsType<typeof action>\r\ntype ThunkType = BasicThunkType<AllActionTypes>","import {authAPI, ResultCodeEnum, ResultCodeForCaptcha, securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from 'redux-form'\r\nimport {BasicThunkType, InferActionsType} from \"./redux-store\";\r\n\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA'\r\nconst GET_CAPTCHA_URL_SUCCESS = 'GET_CAPTCHA_URL_SUCCESS'\r\n\r\n\r\ntype ActionsTypes = InferActionsType<typeof actions>\r\nlet initialState = {\r\n    userId: null as number | null,\r\n    email: null as string | null,\r\n    login: null as string | null,\r\n    isAuth: false,\r\n    captchaUrl: null as string | null\r\n}\r\nexport type InitialStateType = typeof initialState\r\n\r\nconst autorReducer = (state = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case  SET_USER_DATA:\r\n        case  GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        default :\r\n            return state\r\n    }\r\n}\r\n\r\n\r\ntype ActionsType = InferActionsType<typeof  actions>\r\ntype ThunkType = BasicThunkType<ActionsType| ReturnType<typeof stopSubmit>>\r\nexport const actions = {\r\n    setUserData: (userId: number | null, email: string | null, login: string | null, isAuth: boolean, captchaUrl: string | null) =>\r\n        ({type: SET_USER_DATA, payload: {userId, email, login, isAuth, captchaUrl}} as const),\r\n    getCaptchaUrlSuccess: (captchaUrl: string) => ({\r\n        type: GET_CAPTCHA_URL_SUCCESS, payload: {captchaUrl}\r\n    } as const)\r\n}\r\n\r\n\r\n\r\nexport const setAuth = (): ThunkType  => {\r\n    return async (dispatch) => {\r\n        let meData = await authAPI.me();\r\n        if (meData.resultCode === ResultCodeEnum.Success) {\r\n            let {id, email, login} = meData.data\r\n            dispatch(actions.setUserData(id, email, login, true, ''))\r\n        }\r\n    }\r\n\r\n}\r\nexport const login = (email: string, password: string, rememberMe: boolean, captcha: string | null): ThunkType => {\r\n    return async (dispatch) => {\r\n        let data = await authAPI.login(email, password, rememberMe, captcha)\r\n        if (data.resultCode === ResultCodeEnum.Success) {\r\n            dispatch(setAuth())\r\n        } else {\r\n            if (data.resultCode === ResultCodeForCaptcha.captchaIsReq) {\r\n                dispatch(getCaptchaUrl())\r\n            }\r\n            let message = data.messages.length > 0 ? data.messages[0] : 'Some error'\r\n            dispatch(stopSubmit('login', {_error: message}))\r\n        }\r\n    }\r\n\r\n}\r\nexport const getCaptchaUrl = (): ThunkType => {\r\n    return async (dispatch) => {\r\n        let data = await securityAPI.getCaptchaUrl()\r\n        const captchaUrl = data.url;\r\n        dispatch(actions.getCaptchaUrlSuccess(captchaUrl))\r\n    }\r\n}\r\nexport const logout = (): ThunkType => {\r\n    return async (dispatch) => {\r\n        let response = await authAPI.logout();\r\n        if (response.data.resultCode === 0) {\r\n            let {id, email, login} = response.data.data\r\n            dispatch(actions.setUserData(null, null, null, false, null))\r\n        }\r\n    }\r\n}\r\nexport default autorReducer","\r\nimport {setAuth} from \"./auth-reducer\";\r\nimport { InferActionsType } from \"./redux-store\";\r\n\r\n\r\n\r\ntype ActionsType= InferActionsType<typeof  actions>\r\ntype InitialStateType = {\r\n\r\n    initialized: boolean\r\n}\r\nlet initialState: InitialStateType= {\r\n\r\n    initialized: false\r\n}\r\n\r\n\r\nconst appReducer = (state = initialState, action:ActionsType):InitialStateType  => {\r\n\r\n    switch (action.type) {\r\n        case  'SET_INITIALIZED':\r\n\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n\r\n\r\n        default :\r\n            return state\r\n    }\r\n}\r\n\r\nconst actions ={\r\n    setInitialized : ()=> ({type: 'SET_INITIALIZED' } as const)\r\n}\r\n\r\n\r\n\r\nexport const initialzeApp = () => {\r\n    return (dispatch: Function) => {\r\n       let promise = dispatch(setAuth());\r\n\r\n      Promise.all([promise]).then(()=>{\r\n           dispatch(actions.setInitialized());\r\n       })\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default appReducer","import {Action, applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport messageReducer from \"./message-reducer\";\r\nimport sideBarReducer from \"./sidebar-reducer\";\r\nimport newsReducer from \"./news-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport autorReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport appReducer, {initialzeApp} from \"./app-reducer\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\n\r\n\r\nlet reducersRoot = combineReducers({\r\n\r\n    profilePage: profileReducer,\r\n    messagePage: messageReducer,\r\n    navLink: sideBarReducer,\r\n    newsPage: newsReducer,\r\n    usersPage: usersReducer,\r\n    auth: autorReducer,\r\n    form: formReducer,\r\n    initialzeAppPage: appReducer\r\n})\r\ntype RootReducerType = typeof reducersRoot;\r\nexport type AppStateType = ReturnType<RootReducerType>;\r\n// type PropertyTypes<T> = T extends { [key: string]: infer U } ? U : never\r\n// export type  InferActionsType<T extends { [key: string]: (...args: any[]) => any }> = ReturnType<PropertyTypes<T>>\r\n export type  InferActionsType<T> = T extends { [key: string]: (...args: any[]) => infer U } ? U : never\r\nexport type BasicThunkType<A extends Action, R=Promise<void>> = ThunkAction<R, AppStateType, unknown, A>\r\n\r\n\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducersRoot, composeEnhancers(\r\n    applyMiddleware(thunkMiddleware)\r\n))\r\n//let store = createStore(reducers, applyMiddleware(thunkMiddleware))\r\nexport default store","import React from \"react\";\r\nimport s from './Navbar.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\ntype PropsType ={\r\n    path: string\r\n    link: string\r\n}\r\nexport type PropsType2 ={\r\n    navLinks: Array<PropsType >\r\n}\r\n\r\nconst Navbar:React.FC<PropsType2> = (props) => {\r\n    return <nav className={s.nav}>\r\n        {props.navLinks.map((el) => {\r\n            if(el.hasOwnProperty('path')){\r\n                return <div className={s.item} ><NavLink activeClassName={s.active} to={el.path}>{el.link}</NavLink></div>\r\n            }else{\r\n                return    <div className={s.item} ><NavLink   to=''>{el.link}</NavLink></div>\r\n            }\r\n        })}\r\n\r\n\r\n    </nav>\r\n}\r\nexport default Navbar","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport Navbar, {PropsType2} from \"./Navbar\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\n\r\n\r\nlet mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        navLinks: state.navLink\r\n    }as PropsType2\r\n};\r\n\r\nconst NavbarContainer = connect<PropsType2 , {}, {}, AppStateType>(mapStateToProps)(Navbar)\r\n\r\nexport default NavbarContainer","import React, {useState} from 'react';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from '../../App.css';\r\nlet a\r\nconst OneNews = (props) => {\r\n    console.log(props)\r\n    let removeRow = () => {\r\n        props.addNewsActionCreator(props.id)\r\n    }\r\n\r\n\r\n    let addActiveClass = () => {\r\n        // setCount(props.id)\r\n\r\n        props.addActive(props.id)\r\n        console.log(props.id)\r\n        console.log(props.active)\r\n\r\n    }\r\n\r\n    return (\r\n\r\n        <div className={props.id === props.active ? 'active news-item' : 'news-item'} onClick={addActiveClass}>\r\n            <span class='data'>{props.data}</span>\r\n            <span class='news-text'>{props.news}</span>\r\n            <span class='name'>{props.author}</span>\r\n            <button onClick={removeRow}>remove</button>\r\n\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nconst News = (props) => {\r\n    console.log(props)\r\n\r\n    let addNews = () => {\r\n        console.log(props)\r\n        // OneNews(props.news)\r\n    }\r\n    return (\r\n        <div>\r\n\r\n            <button onClick={addNews}>ADD NEWS</button>\r\n            <div>\r\n\r\n                {props.news.map((el, i) => {\r\n                        if (el.newsState === false) {\r\n                            return <OneNews addActive={props.addActive} id={el.id} data={el.data} news={el.news}\r\n                                            author={el.author}\r\n                                            addNewsActionCreator={props.addNewsActionCreator} i={i}\r\n                                            active= {props.active}/>\r\n                        }\r\n                    }\r\n                )}\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default News\r\n","import React from 'react';\r\n\r\n\r\nimport {connect} from \"react-redux\";\r\nimport News from \"./News\";\r\n\r\nimport {addActive, addNewsActionCreator} from \"../../redux/news-reducer\";\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        news: state.newsPage.allNews,\r\n        active: state.newsPage.active\r\n    };\r\n};\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        onNewsRemove: (id) => {\r\n            dispatch(addNewsActionCreator(id))\r\n        },  addActive: (id) => {\r\n            dispatch(addActive(id))\r\n        }\r\n    }\r\n}\r\nconst NewContainer = connect(mapStateToProps, {addNewsActionCreator, addActive})(News)\r\n\r\nexport default NewContainer\r\n","import React, {useState} from \"react\";\r\nimport s from \"../../Users/Users.module.css\";\r\nimport cn from 'classnames'\r\ntype PropsType={\r\n\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    setCurrentPage: (page:number)=> void,\r\n    currentPage: number,\r\n\r\n}\r\nconst Pagination : React.FC<PropsType> =({totalUsersCount, pageSize, setCurrentPage, currentPage, })=>{\r\n\r\n    let pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n    let pages = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let portionSize = Math.ceil(pagesCount / 10)\r\n\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftNum = (portionNumber - 1) * 10 + 1\r\n    let rightNum = portionNumber * 10\r\n    let changePageNext = () => {\r\n        let page = leftNum + 10\r\n        setPortionNumber(portionNumber + 1)\r\n        setCurrentPage(page)\r\n    }\r\n    let changePagePrev = () => {\r\n        let page = leftNum - 10\r\n        setPortionNumber(portionNumber - 1)\r\n        setCurrentPage(page)\r\n    }\r\n\r\n    let currentClass\r\n    return  <div className={s.pageNumbers}>\r\n\r\n        {leftNum > portionNumber ? <button onClick={changePagePrev}>Prev</button> : ''}\r\n\r\n        {pages.filter(p => p >= leftNum && p <= rightNum).map(p => {\r\n            return <span onClick={() => {\r\n                setCurrentPage(p)\r\n                currentClass = s.activePage\r\n            }} className={cn({[s.activePage]: currentPage === p }) }>{p}</span>\r\n        })}\r\n\r\n        {rightNum < pages.length ? <button onClick={changePageNext}>Next</button> : ''}\r\n\r\n    </div>\r\n}\r\nexport default Pagination","import React from \"react\";\r\n\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from \"./Users.module.css\"\r\nimport {UserType} from \"../../redux/users-reducer\";\r\n\r\ntype UserTypeProps = {\r\n    user: UserType,\r\n    followingInProgress: Array<number>,\r\n    unfollowing: (id: number) => void,\r\n    following: (id: number) => void\r\n}\r\n\r\n\r\nlet User: React.FC<UserTypeProps> = ({followingInProgress, unfollowing, following, user}) => {\r\n\r\n    return <div className={s.usersWrapper}>\r\n        <div>\r\n            <div className={s.left}>\r\n                <span>{user.id}</span>\r\n                <div>\r\n                    <NavLink to={'/profile/' + user.id}>\r\n                        <img\r\n                            src={user.photos.small !== null ? user.photos.small : 'https://www.kodefork.com/static/users/images/user.png'}\r\n                            alt=\"\"/>\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {user.followed\r\n                        ? <button disabled={followingInProgress.some(id => id == user.id)}\r\n                                  onClick={() => {\r\n                                      unfollowing(user.id)\r\n                                  }}>unfollow</button>\r\n                        : <button disabled={followingInProgress.some(id => id == user.id)}\r\n                                  onClick={() => {\r\n                                      following(user.id)\r\n                                  }}>follow</button>}\r\n\r\n                </div>\r\n            </div>\r\n            <div className={s.right}>\r\n                <div>\r\n                    <div>{user.name}</div>\r\n                    <div>{user.status}</div>\r\n                </div>\r\n                <div>\r\n                    <div>{\"el.locations.city\"}</div>\r\n                    <div>{\"el.locations.country\"}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n}\r\nexport default User;","import React, {useState} from \"react\";\r\n\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from \"./Users.module.css\"\r\nimport Pagination from \"../common/Pagination/Paginations\";\r\nimport {UserType} from \"../../redux/users-reducer\";\r\nimport User from \"./User\";\r\n\r\n\r\ntype PropsType = {\r\n\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    setCurrentPage: (page: number) => void,\r\n    currentPage: number,\r\n    users: Array<UserType>,\r\n    followingInProgress: Array<number>\r\n    unfollowing: (id: number) => void\r\n    following: (id: number) => void\r\n    loadUsers: (flag: boolean, page: number) => void\r\n\r\n}\r\n\r\nlet Users: React.FC<PropsType> = ({setCurrentPage, currentPage, totalUsersCount, pageSize, users,\r\n                                      followingInProgress, unfollowing, following, loadUsers}) => {\r\n    let flag = true\r\n    return <div>\r\n        <Pagination setCurrentPage={setCurrentPage} currentPage={currentPage}\r\n                    totalUsersCount={totalUsersCount} pageSize={pageSize}/>\r\n\r\n        <div className={s.usersWrapper}>\r\n            {\r\n                users.map((el) => <User key={el.id} user={el} followingInProgress={followingInProgress} unfollowing={unfollowing}\r\n                               following={following}/>\r\n                )\r\n            }\r\n            <button onClick={() => {\r\n                loadUsers(flag, currentPage)\r\n            }}>Load more\r\n            </button>\r\n        </div>\r\n    </div>\r\n\r\n\r\n}\r\n\r\nexport default Users","import {AppStateType} from \"./redux-store\";\r\n\r\nexport const getUsersSelector =(state : AppStateType)=>{\r\n    return state.usersPage.users\r\n}\r\nexport const getSizeSelector =(state: AppStateType)=>{\r\n    return state.usersPage.pageSize\r\n}\r\nexport const gettotalUsersCount =(state: AppStateType)=>{\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage =(state: AppStateType)=>{\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching =(state: AppStateType)=>{\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress =(state: AppStateType)=>{\r\n    return state.usersPage.followingInProgress\r\n}","import React from \"react\";\r\n\r\nimport {connect} from \"react-redux\";\r\n\r\nimport {\r\n    following, getUsers, loadingUsers,\r\n    unfollowing, UserType\r\n} from \"../../redux/users-reducer\";\r\n\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/preloader/Preloader\";\r\nimport {\r\n    getCurrentPage, getFollowingInProgress,\r\n    getIsFetching,\r\n    getSizeSelector,\r\n    gettotalUsersCount,\r\n    getUsersSelector\r\n} from \"../../redux/users-selectors\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {compose} from \"redux\";\r\n\r\ntype MapStatePropsType = {\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    users: Array<UserType>\r\n    followingInProgress: Array<number>\r\n    isFetching: boolean\r\n\r\n}\r\n\r\ntype MapDistpatchType = {\r\n    getUsers: (currentPage: number, pageSize: number) => void\r\n    unfollowing: (id: number) => void\r\n    following: (id: number) => void\r\n    loadingUsers: (currentPage: number, flag: boolean, pageSize: number) => void\r\n}\r\ntype  OwnProperty = {\r\n    title: string\r\n}\r\ntype PropsType = MapStatePropsType & MapDistpatchType & OwnProperty\r\n\r\nclass UsersContainer extends React.Component<PropsType> {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n\r\n    }\r\n\r\n\r\n    loadUsers = (flag: boolean, page: number) => {\r\n        debugger\r\n        page = this.props.currentPage;\r\n        page += 1;\r\n        this.props.loadingUsers(page, flag, this.props.pageSize)\r\n\r\n    }\r\n\r\n    setCurrentPage2 = (page: number) => {\r\n        this.props.getUsers(page, this.props.pageSize)\r\n    }\r\n\r\n\r\n    render() {\r\n        return <>\r\n            <h2>{this.props.title}</h2>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   users={this.props.users}\r\n                   setCurrentPage={this.setCurrentPage2}\r\n                   following={this.props.following}\r\n                   unfollowing={this.props.unfollowing}\r\n                   loadUsers={this.loadUsers}\r\n                   currentPage={this.props.currentPage}\r\n                   followingInProgress={this.props.followingInProgress}\r\n\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStatePropsType => {\r\n\r\n    return {\r\n        users: getUsersSelector(state),\r\n        pageSize: getSizeSelector(state),\r\n        totalUsersCount: gettotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    };\r\n};\r\n\r\n\r\nexport default compose(\r\n    connect<MapStatePropsType, MapDistpatchType, OwnProperty, AppStateType>(mapStateToProps, {\r\n        getUsers,\r\n        following,\r\n        unfollowing,\r\n        loadingUsers\r\n\r\n    }))(UsersContainer)\r\n   ","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink, Redirect} from \"react-router-dom\";\r\nexport  type PropsType={\r\n    isAuth:boolean\r\n    login: string | null\r\n\r\n}\r\nexport  type DespatchType={\r\n    logout:()=> void\r\n}\r\nconst Header: React.FC<PropsType & DespatchType> = (props) => {\r\n    return <header className={s.header}>\r\n        {!props.isAuth &&  <Redirect to={'/login'}/>}\r\n        <img\r\n            src=\"data:image/png;base64,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\"\r\n            alt=\"\"/>\r\n        {props.isAuth ? <div>{props.login} - <button onClick={props.logout}>LOGOUT</button></div> :\r\n            <NavLink to={'/login'}>\r\n                <div className={s.loginBlock}>login</div>\r\n            </NavLink>}\r\n\r\n    </header>\r\n}\r\n\r\n\r\nexport default Header","import React from 'react';\r\n\r\n\r\nimport {connect} from \"react-redux\";\r\nimport Header, {DespatchType, PropsType} from \"./Header\";\r\nimport * as axios from \"axios\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\n\r\nclass HeaderContainer extends React.Component<PropsType & DespatchType> {\r\n    render() {\r\n        return (\r\n            <Header {...this.props}/>\r\n        );\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login\r\n    };\r\n};\r\n\r\nexport default  compose<React.ComponentType>(connect<PropsType , DespatchType,{}, AppStateType>(mapStateToProps, { logout}))(HeaderContainer)\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {Field, InjectedFormProps, reduxForm} from 'redux-form'\r\nimport style from '../common/FormControls/FormControls.module.css'\r\nimport {CreateInput, Input} from \"../common/FormControls/FormControls\";\r\nimport {maxLength10, required} from \"../../utils/validator/validator\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {compose} from \"redux\";\r\n\r\nimport {Redirect, withRouter} from \"react-router-dom\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\n\r\nexport  type LoginFormType={\r\n    email:string,\r\n    password:string\r\n    rememberMe: boolean\r\n    captcha: string | null\r\n}\r\ntype  LoginFormKeysType = keyof LoginFormType\r\ninterface Props {\r\n    captchaUrl: string |null\r\n}\r\nconst LoginForm: React.FC <InjectedFormProps <LoginFormType , Props >& Props > = ({handleSubmit, error, captchaUrl}) => {\r\n\r\n    return (\r\n\r\n        <form onSubmit={handleSubmit}>\r\n \r\n\r\n            {CreateInput<LoginFormKeysType>('Email', 'email', [required], Input,{type: 'text', label: 'Full Name:'} )}\r\n            {CreateInput<LoginFormKeysType>('passwrd', 'password', [required], Input, {type: 'password', label: 'Paswword'})}\r\n            {CreateInput<LoginFormKeysType>(undefined, 'rememberMe', [],  Input, {type: 'checkbox', label:'rememberMe'}, )}\r\n            {captchaUrl && <img src={captchaUrl} alt=\"\"/>}\r\n            {captchaUrl && CreateInput<LoginFormKeysType>('Simbol image', 'captcha', [required],  Input)}\r\n\r\n            {\r\n                error && <div className={style.formSummeryError}>{error}</div>\r\n            }\r\n\r\n\r\n            <button>Login</button>\r\n        </form>\r\n    )\r\n\r\n}\r\n\r\n\r\nconst ReduxLoginForm = reduxForm<LoginFormType, Props>({\r\n    // a unique name for the form\r\n    form: 'login',\r\n\r\n})(LoginForm)\r\ntype  MapStatePropsType ={\r\n    captchaUrl: string  | null\r\n    isAuth: boolean\r\n\r\n}\r\ntype  MapDispatchType ={\r\n\r\n    login: (email:string, password:string, rememberMe:boolean, captcha:string|null)=> void\r\n}\r\nlet Login : React.FC <MapStatePropsType & MapDispatchType> = ({login, captchaUrl, isAuth, }) => {\r\n\r\n    let loginSubmit = (formData:any) => {\r\n        console.log(formData)\r\n        login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n\r\n\r\n    }\r\n\r\n    return <>\r\n        <div>\r\n            {isAuth ? <Redirect to={'/profile/6880'}/> :  <Redirect to={'/login'}/>}\r\n\r\n            <h1>Login</h1>\r\n            <ReduxLoginForm onSubmit={loginSubmit} captchaUrl={captchaUrl}/>\r\n        </div>\r\n    </>\r\n\r\n\r\n}\r\n\r\n\r\n// You have to connect() to any reducers that you wish to connect to yourself\r\nlet mapStateToProps = (state:  AppStateType):  MapStatePropsType  => ({\r\n    captchaUrl: state.auth.captchaUrl,\r\n    isAuth: state.auth.isAuth,\r\n    // login: state.auth.login\r\n})\r\nexport default compose<React.ComponentType>(connect<MapStatePropsType, MapDispatchType, {}, AppStateType>(mapStateToProps, {login}), withRouter) (Login)\r\n\r\n","import React, {Suspense} from \"react\";\r\n\r\n\r\nexport function withSuspense<WPC> (Component:React.ComponentType<WPC>)  {\r\n    return (props: WPC) => {\r\n        return <Suspense fallback={<div>Loading...</div>}>\r\n            <Component {...props} />\r\n        </Suspense>\r\n    }\r\n}","import React from 'react';\nimport './App.css';\nimport {Route, withRouter} from \"react-router-dom\";\nimport NavbarContainer from \"./components/Navbar/NavbarContainer\";\nimport NewsContainer from \"./components/News/NewsContainer\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {connect} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initialzeApp} from \"./redux/app-reducer\";\nimport Preloader from \"./components/common/preloader/Preloader\";\nimport {withSuspense} from \"./hoc/WithSuspense\";\nimport {AppStateType} from \"./redux/redux-store\";\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\nconst  DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\ntype DispatchPropsType ={\n    initialzeApp: ()=> void\n}\ntype MapPropsType= ReturnType<typeof mapStateToProps>\nconst SuspendDialogs =withSuspense(DialogsContainer)\nconst SuspendProfile=withSuspense(ProfileContainer)\nclass App extends React.Component<DispatchPropsType & MapPropsType> {\n    componentDidMount() {\n        this.props.initialzeApp()\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n\n        return (\n\n\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <NavbarContainer/>\n                <div className='app-wrapper-content'>\n\n                    <Route path='/profile/:userId?' render={()=><SuspendProfile/>}/>\n                    <Route path='/dialogs/:id?' render={() => <SuspendDialogs/>}/>\n                    <Route path='/news' render={() => <NewsContainer/>}/>\n                    <Route  path='/users' render={() => <UsersContainer title={\"jjjjj\"}/>}/>\n                    <Route path='/login' render={() => <Login/>}/>\n\n                </div>\n            </div>\n\n        );\n    }\n}\n\nlet mapStateToProps = (state:AppStateType) => {\n    return {\n        initialized: state.initialzeAppPage.initialized,\n    };\n};\nexport default compose<React.ComponentType>(withRouter, connect(mapStateToProps, {initialzeApp}))(App)\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\nimport './index.css';\nimport store from './redux/redux-store'\nimport App from './App';\nimport {Provider} from \"react-redux\";\nimport {BrowserRouter, HashRouter} from \"react-router-dom\";\n//\n// let renderEntireTree = (state) => {\n//\n//\n//\n// }\nReactDOM.render(\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <Provider store={store}>\n\n            <App  />\n        </Provider>\n    </BrowserRouter>,\n    document.getElementById('root')\n);\n// renderEntireTree(store.getState())\n// store.subscribe(() => {\n//     let state = store.getState()\n//     renderEntireTree(state)\n// })\n\n\n// eslint-disable-next-line no-undef\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControls\":\"FormControls_formControls__2WsxE\",\"error\":\"FormControls_error__1R2cm\",\"formSummeryError\":\"FormControls_formSummeryError__uTt5m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3pzN9\",\"item\":\"Navbar_item__iiRqc\",\"active\":\"Navbar_active__ibaFK\"};","export type ValidatorType = (value:string)=> string | undefined\r\nexport const required:ValidatorType = value =>{\r\n    if(value) return undefined;\r\n    return  'Field is required'\r\n}\r\n\r\n const maxLength = (max:number):ValidatorType=> (value) => {\r\n    if(value && value.length > max) return `Must be ${max} characters or less`\r\n    return  undefined\r\n}\r\n\r\nexport const maxLength10 = maxLength(10)\r\n\r\n\r\n\r\n\r\n","import s from \"../../Users/Users.module.css\";\r\nimport preloader from \"../../../images/loading.svg\";\r\nimport React from \"react\";\r\n\r\nconst Preloader: React.FC = () => {\r\n  return  <div>\r\n        <img className={s.loading} src={preloader} alt=\"\"/>\r\n    </div>\r\n}\r\nexport default Preloader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3Nurx\",\"loginBlock\":\"Header_loginBlock__2XFVx\"};","import {ProfileAPI, UserAPI} from \"../api/api\";\r\nimport {FormAction, stopSubmit} from 'redux-form';\r\nimport {BasicThunkType, InferActionsType} from \"./redux-store\";\r\nexport type  postInfoType = {\r\n    id: number,\r\n    massage: string,\r\n    like: number\r\n}\r\nexport type contactType = {\r\n    facebook: string\r\n    website: string\r\n    vk: string\r\n    twitter: string\r\n    instagram: string\r\n    youtube: string\r\n    github: string\r\n    mainLink: string\r\n}\r\nexport  type PhotosType = {\r\n    small: string | null,\r\n    large: string | null\r\n}\r\nexport  type  profileType = {\r\n    aboutMe: string,\r\n    lookingForAJob: boolean,\r\n    lookingForAJobDescription: string,\r\n    fullName: string,\r\n    userId: number,\r\n    contacts: contactType,\r\n    photos: PhotosType\r\n\r\n}\r\nlet initialState = {\r\n    postInfo: [\r\n        {\r\n            id: 1,\r\n            massage: 'post1',\r\n            like: 12\r\n        },\r\n        {\r\n            id: 2,\r\n            massage: 'post2',\r\n            like: 20\r\n        },\r\n        {\r\n            id: 3,\r\n            massage: 'post3',\r\n            like: 1\r\n        },\r\n    ] as Array<postInfoType>,\r\n    profile: null as null | profileType,\r\n    status: '',\r\n    posts: '',\r\n    id: '',\r\n    // newPostText:'rrr'\r\n}\r\ntype  InitialStateType = typeof initialState\r\n\r\nconst profileReducer = (state = initialState, action: ActionsType): InitialStateType => {\r\n\r\n    switch (action.type) {\r\n        case 'ADD-POST':\r\n\r\n            let newPost = {\r\n                id: action.id,\r\n                massage: action.text,\r\n                like: 0\r\n            };\r\n\r\n\r\n            return {\r\n                ...state,\r\n                postInfo: [...state.postInfo, newPost],\r\n\r\n            }\r\n        case 'updateNewTextPost':\r\ndebugger\r\n            return {\r\n                ...state,\r\n\r\n                // newPostText: action.nextText\r\n            }\r\n        case 'SET_USER_PROFILE':\r\n\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        case 'SET_STATUS':\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        case 'SET_PHOTO':\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photo} as profileType\r\n\r\n            }\r\n        default :\r\n            return state\r\n    }\r\n}\r\ntype ActionsType = InferActionsType<typeof actions>\r\n type ThunkType = BasicThunkType<ActionsType | FormAction>\r\nexport const actions = {\r\n    addPostText: (id: number, text: string) => ({type: 'ADD-POST', id: id, text} as const),\r\n    setStatusProfile: (status: string) => ({type: 'SET_STATUS', status: status} as const),\r\n    updateNewPostText: (nextText: string) => ({type: 'updateNewTextPost', nextText} as const),\r\n    setUsersProfile: (profile: profileType) => ({type: 'SET_USER_PROFILE', profile} as const),\r\n    setUsersPhoto: (photo: PhotosType) => ({type: 'SET_PHOTO', photo} as const)\r\n}\r\n\r\n\r\nexport const setPhotoApi = (file: File): ThunkType => {\r\n\r\n    return async (dispatch) => {\r\n\r\n\r\n        let response = await ProfileAPI.photo(file)\r\n\r\n        if (response.resultCode == 0) {\r\n\r\n            dispatch(actions.setUsersPhoto(response.data.photos))\r\n\r\n\r\n        }\r\n    }\r\n}\r\nexport const getUsersProfile = (userId: number): ThunkType => {\r\n\r\n    return async (dispatch) => {\r\n        let response = await ProfileAPI.getProfile(userId)\r\n\r\n        dispatch(actions.setUsersProfile(response))\r\n\r\n    }\r\n}\r\nexport const getStatus = (userId: number): ThunkType => {\r\n    return async (dispatch) => {\r\n\r\n        let response = await ProfileAPI.getStatus(userId)\r\n\r\n        dispatch(actions.setStatusProfile(response))\r\n\r\n    }\r\n}\r\nexport const saveProfile = (profile: profileType): ThunkType => {\r\n    return async (dispatch, getState) => {\r\n        let id = getState().auth.userId\r\n        let response = await ProfileAPI.saveProfile(profile)\r\n\r\n        if (response.resultCode === 0) {\r\n            if(id != null){\r\n                dispatch(getUsersProfile(id))\r\n            }\r\n\r\n        } else {\r\n\r\n            let message = response.messages.length > 0 ? response.messages[0] : 'Some error'\r\n            let nameContact = message.split('->').reverse()[0].slice(0, -1).toLocaleLowerCase()\r\n            dispatch(stopSubmit('dataForm', {\"contacts\": {[nameContact]: message}}))\r\n            return Promise.reject(response.messages[0])\r\n        }\r\n\r\n\r\n    }\r\n}\r\nexport const updateStatus = (status: string): ThunkType => {\r\n\r\n    return async (dispatch) => {\r\n        let response = await ProfileAPI.setStatus(status)\r\n        if (response.resultCode === 0) {\r\n            dispatch(actions.setStatusProfile(status))\r\n        }\r\n    }\r\n}\r\n\r\nexport default profileReducer"],"sourceRoot":""}