{"ast":null,"code":"const FOLLOWED = 'FOLLOWED';\nconst UNFOLLOWED = \"UNFOLLOWED\";\nconst SET_USERS = 'SET_USERS';\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\nconst SET_TOTAL_USER_COUNT = 'SET_TOTAL_USER_COUNT';\nconst LOADING = 'LOADING'; // let a=  [\n//   {\n//       followed: false,\n//       id: '1',\n//       photo:'https://upload.wikimedia.org/wikipedia/commons/thumb/8/88/Dmitry_Nagiev_2017_4.jpg/274px-Dmitry_Nagiev_2017_4.jpg',\n//       fullName: 'Dmitriy',\n//       status: 'jjdsjfsdfjsfs',\n//       locations: {\n//           country: 'Moscow',\n//           city: 'Russia'\n//       }\n//\n//   },\n//       {\n//           followed: false,\n//           photo:'https://upload.wikimedia.org/wikipedia/commons/thumb/8/88/Dmitry_Nagiev_2017_4.jpg/274px-Dmitry_Nagiev_2017_4.jpg',\n//           id: '2',\n//           fullName: 'Dmitriy',\n//           status: 'jjdsjfsdfjsfs',\n//           locations: {\n//               country: 'Moscow',\n//               city: 'Russia'\n//           }\n//\n//       },\n//       {\n//           followed: true,\n//           id: '3',\n//           photo:'https://upload.wikimedia.org/wikipedia/commons/thumb/8/88/Dmitry_Nagiev_2017_4.jpg/274px-Dmitry_Nagiev_2017_4.jpg',\n//           fullName: 'Dmitriy',\n//           status: 'jjdsjfsdfjsfs',\n//           locations: {\n//               country: 'Moscow',\n//               city: 'Russia'\n//           }\n//\n//       },\n//       {\n//           followed: true,\n//           id: '4',\n//           photo:'https://upload.wikimedia.org/wikipedia/commons/thumb/8/88/Dmitry_Nagiev_2017_4.jpg/274px-Dmitry_Nagiev_2017_4.jpg',\n//           fullName: 'Dmitriy',\n//           status: 'jjdsjfsdfjsfs',\n//           locations: {\n//               country: 'Moscow',\n//               city: 'Russia'\n//           }\n//\n//       },\n//       {\n//           followed: false,\n//           id: '5',\n//           photo:'https://upload.wikimedia.org/wikipedia/commons/thumb/8/88/Dmitry_Nagiev_2017_4.jpg/274px-Dmitry_Nagiev_2017_4.jpg',\n//           fullName: 'Dmitriy',\n//           status: 'jjdsjfsdfjsfs',\n//           locations: {\n//               country: 'Moscow',\n//               city: 'Russia'\n//           }\n//\n//       },\n//\n//   ]\n\nlet initialState = {\n  users: [],\n  pageSize: 20,\n  totalUsersCount: 0,\n  currentPage: 1,\n  isFetching: false\n};\n\nconst usersReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FOLLOWED:\n      return { ...state,\n        users: state.users.map(el => {\n          if (el.id === action.id) {\n            return { ...el,\n              followed: true\n            };\n          }\n\n          return el;\n        })\n      };\n\n    case UNFOLLOWED:\n      return { ...state,\n        users: state.users.map(el => {\n          if (el.id === action.id) {\n            return { ...el,\n              followed: false\n            };\n          }\n\n          return el;\n        })\n      };\n\n    case SET_USERS:\n      if (action.flag) {\n        return { ...state,\n          users: [...state.users, ...action.users]\n        };\n      } else {\n        return { ...state,\n          users: [...action.users]\n        };\n      }\n\n    case SET_CURRENT_PAGE:\n      return { ...state,\n        currentPage: action.currentPage\n      };\n\n    case SET_TOTAL_USER_COUNT:\n      return { ...state,\n        totalUsersCount: action.totalUsersCount\n      };\n\n    case LOADING:\n      return { ...state,\n        isFetching: action.isFetching\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default usersReducer;\nexport const followedAC = id => {\n  return {\n    type: FOLLOWED,\n    id: id\n  };\n};\nexport const unfollowedAC = id => {\n  return {\n    type: UNFOLLOWED,\n    id: id\n  };\n};\nexport const setUsersAC = (users, flag) => {\n  return {\n    type: SET_USERS,\n    users: users,\n    flag: flag\n  };\n};\nexport const setCurrentPageAC = page => {\n  return {\n    type: SET_CURRENT_PAGE,\n    currentPage: page\n  };\n};\nexport const setTotalUsersCountAC = count => {\n  return {\n    type: SET_TOTAL_USER_COUNT,\n    totalUsersCount: count\n  };\n};\nexport const setIsFetchingAC = load => {\n  return {\n    type: LOADING,\n    isFetching: load\n  };\n};","map":{"version":3,"sources":["C:/Users/Katerina/PhpstormProjects/react-practice/src/redux/users-reducer.js"],"names":["FOLLOWED","UNFOLLOWED","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USER_COUNT","LOADING","initialState","users","pageSize","totalUsersCount","currentPage","isFetching","usersReducer","state","action","type","map","el","id","followed","flag","followedAC","unfollowedAC","setUsersAC","setCurrentPageAC","page","setTotalUsersCountAC","count","setIsFetchingAC","load"],"mappings":"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","sourcesContent":["const FOLLOWED = 'FOLLOWED'\r\nconst UNFOLLOWED = \"UNFOLLOWED\"\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst SET_TOTAL_USER_COUNT = 'SET_TOTAL_USER_COUNT'\r\nconst LOADING = 'LOADING'\r\n// let a=  [\r\n//   {\r\n//       followed: false,\r\n//       id: '1',\r\n//       photo:'https://upload.wikimedia.org/wikipedia/commons/thumb/8/88/Dmitry_Nagiev_2017_4.jpg/274px-Dmitry_Nagiev_2017_4.jpg',\r\n//       fullName: 'Dmitriy',\r\n//       status: 'jjdsjfsdfjsfs',\r\n//       locations: {\r\n//           country: 'Moscow',\r\n//           city: 'Russia'\r\n//       }\r\n//\r\n//   },\r\n//       {\r\n//           followed: false,\r\n//           photo:'https://upload.wikimedia.org/wikipedia/commons/thumb/8/88/Dmitry_Nagiev_2017_4.jpg/274px-Dmitry_Nagiev_2017_4.jpg',\r\n//           id: '2',\r\n//           fullName: 'Dmitriy',\r\n//           status: 'jjdsjfsdfjsfs',\r\n//           locations: {\r\n//               country: 'Moscow',\r\n//               city: 'Russia'\r\n//           }\r\n//\r\n//       },\r\n//       {\r\n//           followed: true,\r\n//           id: '3',\r\n//           photo:'https://upload.wikimedia.org/wikipedia/commons/thumb/8/88/Dmitry_Nagiev_2017_4.jpg/274px-Dmitry_Nagiev_2017_4.jpg',\r\n//           fullName: 'Dmitriy',\r\n//           status: 'jjdsjfsdfjsfs',\r\n//           locations: {\r\n//               country: 'Moscow',\r\n//               city: 'Russia'\r\n//           }\r\n//\r\n//       },\r\n//       {\r\n//           followed: true,\r\n//           id: '4',\r\n//           photo:'https://upload.wikimedia.org/wikipedia/commons/thumb/8/88/Dmitry_Nagiev_2017_4.jpg/274px-Dmitry_Nagiev_2017_4.jpg',\r\n//           fullName: 'Dmitriy',\r\n//           status: 'jjdsjfsdfjsfs',\r\n//           locations: {\r\n//               country: 'Moscow',\r\n//               city: 'Russia'\r\n//           }\r\n//\r\n//       },\r\n//       {\r\n//           followed: false,\r\n//           id: '5',\r\n//           photo:'https://upload.wikimedia.org/wikipedia/commons/thumb/8/88/Dmitry_Nagiev_2017_4.jpg/274px-Dmitry_Nagiev_2017_4.jpg',\r\n//           fullName: 'Dmitriy',\r\n//           status: 'jjdsjfsdfjsfs',\r\n//           locations: {\r\n//               country: 'Moscow',\r\n//               city: 'Russia'\r\n//           }\r\n//\r\n//       },\r\n//\r\n//   ]\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 20,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case FOLLOWED:\r\n\r\n            return {\r\n                ...state,\r\n\r\n                users: state.users.map((el) => {\r\n                    if (el.id === action.id) {\r\n                        return {...el, followed: true}\r\n                    }\r\n                    return el\r\n                })\r\n            }\r\n        case UNFOLLOWED:\r\n            return {\r\n                ...state,\r\n                users: state.users.map((el) => {\r\n                    if (el.id === action.id) {\r\n                        return {...el, followed: false}\r\n                    }\r\n                    return el\r\n                })\r\n            }\r\n        case SET_USERS:\r\n\r\n            if(action.flag){\r\n                return {\r\n\r\n                    ...state, users: [...state.users, ...action.users]\r\n                }\r\n            }else{\r\n                return {\r\n\r\n                    ...state, users: [...action.users]\r\n                }\r\n            }\r\n\r\n        case SET_CURRENT_PAGE:\r\n\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage,\r\n            }\r\n        case SET_TOTAL_USER_COUNT:\r\n\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.totalUsersCount,\r\n            }\r\n        case LOADING:\r\n            return{\r\n                ...state, isFetching: action.isFetching\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default usersReducer\r\nexport const followedAC = (id) => {\r\n\r\n    return {\r\n        type: FOLLOWED,\r\n        id: id\r\n    }\r\n};\r\nexport const unfollowedAC = (id) => {\r\n\r\n    return {\r\n        type: UNFOLLOWED,\r\n        id: id\r\n    }\r\n};\r\nexport const setUsersAC = (users, flag) => {\r\n\r\n    return {\r\n        type: SET_USERS,\r\n        users: users,\r\n        flag:flag\r\n    }\r\n};\r\n\r\nexport const setCurrentPageAC = (page) => {\r\n\r\n    return {\r\n        type: SET_CURRENT_PAGE,\r\n        currentPage: page\r\n    }\r\n};\r\nexport const setTotalUsersCountAC = (count) => {\r\n\r\n    return {\r\n        type: SET_TOTAL_USER_COUNT,\r\n        totalUsersCount: count,\r\n\r\n    }\r\n};\r\nexport const setIsFetchingAC =(load) => {\r\n\r\n    return {\r\n        type: LOADING,\r\n        isFetching: load\r\n    }\r\n};"]},"metadata":{},"sourceType":"module"}