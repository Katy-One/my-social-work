{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Katerina\\\\PhpstormProjects\\\\react-practice\\\\src\\\\components\\\\Users\\\\UsersContainer.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { follow, setCurrentPage, setIsFetching, setTotalUsersCount, setUsers, unfollow } from \"../../redux/users-reducer\";\nimport * as axios from \"axios\";\nimport Users from \"./Users\";\nimport Preloader from \"../common/preloader/Preloader\";\nimport { getUsers } from \"../../api/api\";\n\nclass UsersContainer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.loadUsers = (page, flag) => {\n      page = this.props.currentPage;\n      page += 1;\n      this.props.setCurrentPage(page);\n      this.props.setIsFetching(true);\n      console.log(page);\n      getUsers(page, this.props.pageSize).then(data => {\n        this.props.setIsFetching(false);\n        this.props.setUsers(data.items, flag);\n      });\n    };\n\n    this.setCurrentPage2 = page => {\n      this.props.setCurrentPage(page);\n      this.props.setIsFetching(true);\n      getUsers(page, this.props.pageSize).then(data => {\n        this.props.setIsFetching(false);\n        this.props.setUsers(data.items);\n      });\n    };\n\n    this.isFollowed = page => {\n      this.props.setCurrentPage(page);\n      this.props.setIsFetching(true);\n      axios.get(`https://social-network.samuraijs.com/api/1.0/users?page=${page}&count=${this.props.pageSize}`).then(response => {\n        this.props.setIsFetching(false);\n        this.props.setUsers(response.data.items);\n      });\n    };\n\n    this.isFollow = page => {\n      this.props.setCurrentPage(page);\n      this.props.setIsFetching(true);\n      axios.get(`https://social-network.samuraijs.com/api/1.0/users?page=${page}&count=${this.props.pageSize}`).then(response => {\n        this.props.setIsFetching(false);\n        this.props.setUsers(response.data.items);\n      });\n    };\n\n    console.log(props);\n  }\n\n  componentDidMount() {\n    this.props.setIsFetching(true);\n    getUsers(this.props.currentPage, this.props.pageSize).then(data => {\n      this.props.setIsFetching(false);\n      this.props.setUsers(data.items);\n      this.props.setTotalUsersCount(data.totalCount);\n    });\n    console.log(this.props);\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, this.props.isFetching ? React.createElement(Preloader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }) : null, React.createElement(Users, {\n      totalUsersCount: this.props.totalUsersCount,\n      pageSize: this.props.pageSize,\n      users: this.props.users,\n      setCurrentPage: this.setCurrentPage2,\n      unfollow: this.props.unfollow,\n      follow: this.props.follow,\n      loadUsers: this.loadUsers,\n      currentPage: this.props.currentPage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }));\n  }\n\n}\n\nlet mapStateToProps = state => {\n  return {\n    users: state.usersPage.users,\n    pageSize: state.usersPage.pageSize,\n    totalUsersCount: state.usersPage.totalUsersCount,\n    currentPage: state.usersPage.currentPage,\n    isFetching: state.usersPage.isFetching\n  };\n};\n\nexport default connect(mapStateToProps, {\n  follow,\n  unfollow,\n  setUsers,\n  setTotalUsersCount,\n  setCurrentPage,\n  setIsFetching\n})(UsersContainer);","map":{"version":3,"sources":["C:/Users/Katerina/PhpstormProjects/react-practice/src/components/Users/UsersContainer.js"],"names":["React","connect","follow","setCurrentPage","setIsFetching","setTotalUsersCount","setUsers","unfollow","axios","Users","Preloader","getUsers","UsersContainer","Component","constructor","props","loadUsers","page","flag","currentPage","console","log","pageSize","then","data","items","setCurrentPage2","isFollowed","get","response","isFollow","componentDidMount","totalCount","render","isFetching","totalUsersCount","users","mapStateToProps","state","usersPage"],"mappings":"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","sourcesContent":["import React from \"react\";\r\n\r\nimport {connect} from \"react-redux\";\r\n\r\nimport {\r\n    follow,\r\n    setCurrentPage,\r\n    setIsFetching,\r\n    setTotalUsersCount,\r\n    setUsers,\r\n    unfollow\r\n} from \"../../redux/users-reducer\";\r\n\r\nimport * as axios from \"axios\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/preloader/Preloader\";\r\nimport {getUsers} from \"../../api/api\";\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        console.log(props)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.setIsFetching(true)\r\n        getUsers(this.props.currentPage, this.props.pageSize).then(data => {\r\n\r\n            this.props.setIsFetching(false)\r\n            this.props.setUsers(data.items)\r\n            this.props.setTotalUsersCount(data.totalCount)\r\n        })\r\n\r\n        console.log(this.props)\r\n    }\r\n\r\n    loadUsers = (page, flag) => {\r\n        page = this.props.currentPage;\r\n        page += 1;\r\n        this.props.setCurrentPage(page);\r\n        this.props.setIsFetching(true)\r\n        console.log(page);\r\n        getUsers(page, this.props.pageSize).then(data => {\r\n            this.props.setIsFetching(false)\r\n            this.props.setUsers(data.items, flag);\r\n        })\r\n\r\n    }\r\n\r\n    setCurrentPage2 = (page) => {\r\n\r\n        this.props.setCurrentPage(page);\r\n        this.props.setIsFetching(true)\r\n        getUsers(page, this.props.pageSize).then(data => {\r\n            this.props.setIsFetching(false)\r\n            this.props.setUsers(data.items)\r\n        })\r\n\r\n\r\n    }\r\n    isFollowed = (page) => {\r\n\r\n        this.props.setCurrentPage(page);\r\n        this.props.setIsFetching(true)\r\n        axios.get(`https://social-network.samuraijs.com/api/1.0/users?page=${page}&count=${this.props.pageSize}`).then(response => {\r\n            this.props.setIsFetching(false)\r\n            this.props.setUsers(response.data.items)\r\n        })\r\n\r\n\r\n    }\r\n    isFollow = (page) => {\r\n\r\n        this.props.setCurrentPage(page);\r\n        this.props.setIsFetching(true)\r\n        axios.get(`https://social-network.samuraijs.com/api/1.0/users?page=${page}&count=${this.props.pageSize}`).then(response => {\r\n            this.props.setIsFetching(false)\r\n            this.props.setUsers(response.data.items)\r\n        })\r\n\r\n\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/>: null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   users={this.props.users}\r\n                   setCurrentPage={this.setCurrentPage2}\r\n                   unfollow={this.props.unfollow}\r\n                   follow={this.props.follow}\r\n                   loadUsers={this.loadUsers}\r\n                   currentPage={this.props.currentPage}/>\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n\r\n    return {\r\n        users: state.usersPage.users,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalUsersCount: state.usersPage.totalUsersCount,\r\n        currentPage: state.usersPage.currentPage,\r\n        isFetching: state.usersPage.isFetching,\r\n    };\r\n};\r\n\r\n\r\nexport default connect(mapStateToProps,{\r\n    follow,\r\n    unfollow,\r\n    setUsers,\r\n    setTotalUsersCount,\r\n    setCurrentPage,\r\n    setIsFetching\r\n})(UsersContainer)\r\n"]},"metadata":{},"sourceType":"module"}